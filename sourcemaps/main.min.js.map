{"version":3,"sources":["index.js","statistic.js","01_main.js"],"names":["communitySlider","Swiper","slidesPerView","spaceBetween","pagination","el","type","clickable","breakpoints","320","576","headSlider","allowTouchMove","effect","loop","autoplay","delay","speed","fadeEffect","crossFade","on","init","title","document","querySelector","getAttribute","innerHTML","slideChange","setTimeout","animateWord","err","console","log","advSliders","querySelectorAll","length","forEach","loopPreventsSlide","replacements","you","music","block","span","createElement","classList","add","append","artSlider","brandSlider","addEventListener","event","step1Btn","step2BackBtn","step2","onclick","async","window","ethereum","address","alert","remove","provider","burger","body","header","toggle","ethers","providers","Web3Provider","claim_abi","inputs","internalType","name","outputs","stateMutability","connect_btn","account_btn","connectMetamask","open","send","checkAccount","signer","getSigner","getAddress","substr","getTXTRecord","getDomains","claim","protocol_airdrop","Contract","connect","data","fetch","URLSearchParams","account","domain","args","json","Domain","Account","BigInt","Value","utils","arrayify","Signatures","tier","offset","page","onEnter","input","value","location","search","get","key","preventDefault","pathname","openSearch","query_value","prev_query","searchOld","container","getElementById","count","loader","refresh","protocol","host","history","pushState","path","query","list","i","Tier","tierToTokens","total","_embedded","items","priceToTier","price","tiers","tiers_buttons","children","tiersUpdate","btn","pagination_buttons","pages","Math","floor","numbers","Set","mid","sort","a","b","active","set_page","e","target","tiers_tokens","0","1","2","3","4","5","6","7","8","9","prices_tier","x","tokens_count","quiz_table","tokens","Date","Exp","toLocaleDateString","bonus","txt_record_field","copyTXTRecord","navigator","clipboard","writeText","addDomain","parentElement","toLowerCase","test","status","suggestion","href","addEmail","twitterBonus","OAuth","initialize","popup","done","result","toJson","then"],"mappings":"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","file":"../components/main.min.js","sourcesContent":["function communitySlider() {\r\n    var swiper = new Swiper('.community__slider .swiper-container', {\r\n        slidesPerView: 1,\r\n        spaceBetween: 10,\r\n        pagination: {\r\n            el: '.community__slider .swiper-pagination',\r\n            type: 'bullets',\r\n            clickable: true,\r\n        },\r\n        breakpoints: {\r\n            320: {\r\n                slidesPerView: 1,\r\n            },\r\n            576: {\r\n                slidesPerView: 3,\r\n                spaceBetween: 30\r\n            },\r\n        }\r\n    })\r\n}\r\n\r\nfunction headSlider() {\r\n    var swiper = new Swiper('.main__img.swiper-container', {\r\n        slidesPerView: 1,\r\n        allowTouchMove: false,\r\n        effect: 'fade',\r\n        loop: true,\r\n        autoplay: {\r\n            delay: 4000\r\n        },\r\n        speed: 1500,\r\n        fadeEffect: {\r\n            crossFade: false\r\n        },\r\n        on: {\r\n            init: function() {\r\n                let title = document.querySelector(\".main__img .swiper-slide-active\").getAttribute(\"data-head-title\")\r\n                document.querySelector(\".words-slider\").innerHTML = title\r\n            },\r\n            slideChange: function() {\r\n                try {\r\n                    let title = document.querySelector(\".main__img .swiper-slide-next\").getAttribute(\"data-head-title\")\r\n                    setTimeout(\r\n                        animateWord(title),\r\n                        2000\r\n                    )\r\n                } catch (err) {\r\n                    console.log(err)\r\n                }\r\n            },\r\n        },\r\n    })\r\n}\r\n\r\nlet advSliders = document.querySelectorAll(\".adv .swiper-container\")\r\n\r\nif(advSliders.length>0){\r\n    advSliders.forEach(el => {\r\n        const swiper = new Swiper('.adv .swiper-container', {\r\n            slidesPerView: \"auto\",\r\n            spaceBetween: 25,\r\n            loop: true,\r\n            speed: 4000,\r\n            loopPreventsSlide: true,\r\n            autoplay: {\r\n                delay: 0,\r\n            },\r\n            breakpoints: {\r\n                320: {\r\n                    spaceBetween: 10\r\n                },\r\n                576: {\r\n                    spaceBetween: 25\r\n                },\r\n            }\r\n        })\r\n    })\r\n}\r\n\r\n\r\nlet replacements = {\r\n    \"you\": \"web3\",\r\n    \"music\": \"builders\"\r\n}\r\n\r\nfunction animateWord(title) {\r\n    let block = document.querySelector(\".words-slider\")\r\n    let span = document.createElement('span');\r\n    block.innerHTML = ''\r\n    span.classList.add(\"words-slider__text\")\r\n    span.innerHTML = `${replacements[title]||title}`\r\n    block.append(span)\r\n\r\n    let text = document.querySelector(\".words-slider__text\")\r\n    text.classList.add(\"words-slider__text--active\")\r\n}\r\n\r\nfunction artSlider() {\r\n    var swiper = new Swiper('.main__art-items.swiper-container', {\r\n        slidesPerView: 'auto',\r\n        loop: true,\r\n        autoplay: {\r\n            delay: 4000\r\n        },\r\n        speed: 3000,\r\n    })\r\n}\r\n\r\nfunction brandSlider() {\r\n    var swiper = new Swiper('.community__brands.swiper-container', {\r\n        slidesPerView: 'auto',\r\n        loop: true,\r\n        autoplay: {\r\n            delay: 4000\r\n        },\r\n        speed: 3000,\r\n    })\r\n}\r\n\r\ncommunitySlider()\r\nartSlider()\r\nbrandSlider()\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function(event) {\r\n    headSlider()\r\n});\r\n\r\n","let step1Btn = document.querySelector(\"[data-step='addDomain']\")\r\nlet step2BackBtn = document.querySelector(\"[data-step='backStep1']\")\r\nlet step2 = document.querySelector(\".quiz__step2\")\r\n\r\n\r\nif (step1Btn) {\r\n    step1Btn.onclick = async function() {\r\n        if (!window.ethereum||!address){\r\n            alert(\"Please, connect MetaMask before.\")\r\n            return   \r\n        }\r\n        step2.classList.add(\"quiz__step2--active\")\r\n\r\n    }\r\n}\r\n\r\nif (step2BackBtn) {\r\n    step2BackBtn.onclick = function() {\r\n        step2.classList.remove(\"quiz__step2--active\")\r\n    }\r\n}","let burger = document.querySelector(\".header__burger\")\r\nlet body = document.querySelector(\"body\")\r\nlet header = document.querySelector(\"header\")\r\n\r\nif (burger) {\r\n    burger.onclick = function() {\r\n        header.classList.toggle(\"header--active\")\r\n        body.classList.toggle(\"fixed-body\")\r\n    }\r\n}\r\n\r\n\r\n\r\nlet provider\r\ntry {\r\n    provider = new ethers.providers.Web3Provider(window.ethereum)\r\n} catch (err) {\r\n    console.log(err)\r\n}\r\nconst claim_abi = [\r\n\r\n    {\r\n        \"inputs\": [{\r\n                \"internalType\": \"string\",\r\n                \"name\": \"domain\",\r\n                \"type\": \"string\"\r\n            },\r\n            {\r\n                \"internalType\": \"address\",\r\n                \"name\": \"account\",\r\n                \"type\": \"address\"\r\n            },\r\n            {\r\n                \"internalType\": \"uint256\",\r\n                \"name\": \"value\",\r\n                \"type\": \"uint256\"\r\n            },\r\n            {\r\n                \"internalType\": \"bytes[]\",\r\n                \"name\": \"signatures\",\r\n                \"type\": \"bytes[]\"\r\n            }\r\n        ],\r\n        \"name\": \"claim\",\r\n        \"outputs\": [],\r\n        \"stateMutability\": \"nonpayable\",\r\n        \"type\": \"function\"\r\n    }\r\n]\r\n\r\nlet connect_btn = document.querySelector(\".connect_btn\")\r\nlet account_btn = document.querySelector(\".account_btn\")\r\nlet address\r\nasync function connectMetamask() {\r\n    try {\r\n        if (address) {\r\n            window.open(\"/domains\", \"_self\")\r\n        }\r\n        await provider.send(\"eth_requestAccounts\", []);\r\n        checkAccount()\r\n    } catch (err) {\r\n        console.log(err)\r\n    }\r\n}\r\n\r\n\r\n\r\nconnect_btn.onclick = connectMetamask\r\n\r\nasync function checkAccount() {\r\n    try {\r\n        let signer = provider.getSigner()\r\n        address = await signer.getAddress()\r\n        if (address) {\r\n            connect_btn.innerHTML = address.substr(0, 6) + \"...\" + address.substr(38, 4)\r\n            try {\r\n                getTXTRecord()\r\n                getDomains()\r\n            } catch (err) {\r\n                console.log()\r\n            }\r\n        }\r\n    } catch (err) {\r\n        console.log(err)\r\n    }\r\n\r\n}\r\n\r\ncheckAccount()\r\n\r\nasync function claim() {\r\n    let protocol_airdrop = new ethers.Contract(\"0x3d38fa9B1E78EaA35175B8647b25F41B445dDaCB\", claim_abi, provider)\r\n    let signer = provider.getSigner()\r\n    protocol_airdrop = protocol_airdrop.connect(signer)\r\n\r\n    let data = await fetch(\"/api/airdrop?\" + new URLSearchParams({ account: await signer.getAddress(), domain: \"gems.black\" }))\r\n    let args = await data.json()\r\n    protocol_airdrop.claim(args.Domain, args.Account, BigInt(args.Value), [ethers.utils.arrayify(\"0x\" + args.Signatures)])\r\n}\r\n\r\nlet tier = 0\r\nlet offset = 0\r\nlet page = 0\r\n\r\n\r\nasync function onEnter() {\r\n\r\n    let input = document.querySelector(\".query_value\")\r\n    if (!input) {\r\n        return\r\n    }\r\n\r\n    input.value= new URLSearchParams(window.location.search).get(\"search\")\r\n    \r\n    input.addEventListener(\"keypress\", function(event) {\r\n        if (event.key == \"Enter\") {\r\n            event.preventDefault()\r\n            if (window.location.pathname != \"/search\") {\r\n                openSearch()\r\n                return\r\n            }\r\n            \r\n            search()\r\n        }\r\n    })\r\n}\r\n\r\n\r\nasync function openSearch() {\r\n    let query_value = document.querySelector(\".query_value\")\r\n    window.open(\"/search?search=\" + query_value.value, \"_self\")\r\n}\r\n\r\nonEnter()\r\nlet prev_query = ''\r\n\r\nasync function searchOld() {\r\n    let query_value = document.querySelector(\".query_value\")\r\n    let container = document.getElementById(\"results_container\")\r\n    let count = document.getElementById(\"results_count\")\r\n    let loader = document.getElementById(\"results_loader\")\r\n\r\n    if (!container) {\r\n        return\r\n    }\r\n\r\n    let refresh = window.location.protocol + \"//\" + window.location.host + window.location.pathname + \"?search=\" + query_value.value\r\n    window.history.pushState({ path: refresh }, '', refresh)\r\n\r\n    container.innerHTML = \"\"\r\n    count.innerHTML = \"\"\r\n\r\n    loader.classList.remove(\"hidden\")\r\n\r\n    if (query_value.value != prev_query) {\r\n        page = 0\r\n        pagination(0)\r\n    }\r\n    prev_query = query_value.value\r\n\r\n    let data = await fetch(\"/api/search?\" + new URLSearchParams({ query: query_value.value, tier, offset: page * 10 }))\r\n    let list = await data.json()\r\n\r\n    count.innerHTML = \"About \" + list.count + \" search results\"\r\n    container.innerHTML = \"\"\r\n    list.data.forEach((i) => {\r\n        container.innerHTML += `\r\n        <div class=\"domains__row\">\r\n            <div class=\"domains__info tier` + i.Tier + `\">\r\n                <div class=\"domains__info-item\">` + i.Domain + `</div>\r\n                <div class=\"domains__info-item\">Tier ` + (i.Tier + 1) + `</div>\r\n                <div class=\"domains__info-item\">Tokens: ` + tierToTokens(i.Tier)+ `</div>\r\n            </div>\r\n            <a href=\"https://search.art.art/en?domain=` + i.Domain + `\" class=\"domains__link mbtn mbtn-black\">Check avalibility</a>\r\n        </div>\r\n        `\r\n    })\r\n\r\n    pagination(list.count)\r\n    loader.classList.add(\"hidden\")\r\n\r\n}\r\n\r\nasync function search() {\r\n    let query_value = document.querySelector(\".query_value\")\r\n    let container = document.getElementById(\"results_container\")\r\n    let count = document.getElementById(\"results_count\")\r\n    let loader = document.getElementById(\"results_loader\")\r\n\r\n    if (!container) {\r\n        return\r\n    }\r\n\r\n    let refresh = window.location.protocol + \"//\" + window.location.host + window.location.pathname + \"?search=\" + query_value.value\r\n    window.history.pushState({ path: refresh }, '', refresh)\r\n\r\n    container.innerHTML = \"\"\r\n    count.innerHTML = \"\"\r\n\r\n    loader.classList.remove(\"hidden\")\r\n\r\n    if (query_value.value != prev_query) {\r\n        page = 0\r\n        pagination(0)\r\n    }\r\n    prev_query = query_value.value\r\n\r\n    let data = await fetch(\"/api/v2/search?\" + new URLSearchParams({ query: query_value.value, tier, offset: page * 10 }))\r\n    data = await data.json()\r\n\r\n    count.innerHTML = \"About \" + data.total + \" search results\"\r\n    container.innerHTML = \"\"\r\n    data._embedded.items.forEach((i) => {\r\n        let tier=priceToTier(i.price)\r\n        container.innerHTML += `\r\n        <div class=\"domains__row\">\r\n            <div class=\"domains__info tier` + tier + `\">\r\n                <div class=\"domains__info-item\">` + i.name + `</div>\r\n                <div class=\"domains__info-item\">Tier ` + (tier + 1) + `</div>\r\n                <div class=\"domains__info-item\">Tokens: ` + tierToTokens(tier)+ `</div>\r\n            </div>\r\n            <a href=\"https://search.art.art/en?domain=` + i.name + `\" class=\"domains__link mbtn mbtn-black\">Check avalibility</a>\r\n        </div>\r\n        `\r\n    })\r\n\r\n    pagination(data.total)\r\n    loader.classList.add(\"hidden\")\r\n\r\n}\r\n\r\nif (document.getElementById(\"search_domains\")) {\r\n    search()\r\n}\r\nasync function tiers() {\r\n    let tiers_buttons = document.getElementById(\"tiers_buttons\")\r\n    if (!tiers_buttons) {\r\n        return\r\n    }\r\n    tiers_buttons.children[0].onclick = async function() {\r\n        tier = 0\r\n        await tiersUpdate()\r\n        offset = 0\r\n        await search()\r\n    }\r\n    for (let i = 1; i < 10; i++) {\r\n        let btn = tiers_buttons.children[i]\r\n        btn.onclick = async function() {\r\n            tier = 11 - i\r\n            await tiersUpdate()\r\n            offset = 0\r\n            await search()\r\n        }\r\n    }\r\n}\r\nasync function tiersUpdate() {\r\n    let tiers_buttons = document.getElementById(\"tiers_buttons\")\r\n    if (!tiers_buttons) {\r\n        return\r\n    }\r\n    for (let i = 0; i < 10; i++) {\r\n        let btn = tiers_buttons.children[i]\r\n        btn.classList.remove(\"domains__tab--active\")\r\n        if ((i == 0 && tier == 0) || (i != 0 && tier == 11 - i)) {\r\n            btn.classList.add(\"domains__tab--active\")\r\n        }\r\n    }\r\n}\r\n\r\nasync function pagination(count) {\r\n    let pagination_buttons = document.getElementById(\"pagination_buttons\")\r\n    pagination_buttons.innerHTML = ''\r\n    if (count == 0) {\r\n        return\r\n    }\r\n    let pages = Math.floor(count / 10)\r\n\r\n\r\n\r\n    let numbers = new Set([\r\n        0, 1, 2,\r\n        page - 1, page, page + 1,\r\n        pages - 2, pages - 1, pages\r\n    ])\r\n    if (page < 3) {\r\n\r\n        let mid = Math.floor(pages / 2)\r\n        numbers.add(mid - 1)\r\n        numbers.add(mid)\r\n        numbers.add(mid + 1)\r\n    }\r\n    numbers = [...numbers]\r\n    numbers = numbers.sort(function(a, b) { return a - b })\r\n\r\n    for (let i = 0; i < numbers.length; i++) {\r\n        if (numbers[i] >= 0 && numbers[i] <= pages) {\r\n            if (i > 0 && numbers[i - 1] + 1 != numbers[i]) {\r\n                pagination_buttons.innerHTML += ``\r\n\r\n            }\r\n\r\n            let active = numbers[i] == page ? 'domains__tab--active' : ''\r\n\r\n            pagination_buttons.innerHTML += `<a onclick=\"set_page(event,` + numbers[i] + `)\" class=\"domains__tab ` + active + `\">` + (numbers[i] + 1) + `</a>`\r\n        }\r\n    }\r\n}\r\n\r\nasync function set_page(e, i) {\r\n    page = i\r\n    e.target.classList.add('domains__tab--active')\r\n    search(page)\r\n}\r\n\r\ntiers()\r\n\r\nlet tiers_tokens={\r\n    0:20,\r\n    1:140,\r\n    2:220,\r\n    3:280,\r\n    4:320,\r\n    5:560,\r\n    6:820,\r\n    7:1820,\r\n    8:10000,\r\n    9:20000\r\n}\r\n\r\nlet prices_tier=[0,70,110,140,210,280,410,910,5000,10000,1000000000000]\r\n\r\nfunction tierToTokens(x){\r\n    return tiers_tokens[x]\r\n}\r\n\r\nfunction priceToTier(x){\r\n    let tier=0\r\n    for (i=0;i<prices_tier.length;i++){\r\n        if (x>=prices_tier[i]){\r\n            tier=i\r\n        }else{\r\n            break\r\n        }\r\n    }\r\n    return tier\r\n}\r\n\r\nasync function getDomains() {\r\n    let tokens_count = document.getElementById(\"tokens_count\")\r\n    let quiz_table = document.querySelector(\".quiz__table\")\r\n    if (!quiz_table){\r\n        return\r\n    }\r\n    let data = await fetch(\"/api/domains?\" + new URLSearchParams({ account: address }))\r\n    let list = await data.json()\r\n    quiz_table.innerHTML = \"\"\r\n    let tokens = 0\r\n    list.forEach((i) => {\r\n        tokens += tierToTokens(i.Tier)\r\n\r\n\r\n        quiz_table.innerHTML += `\r\n        <div class=\"domains__row\">\r\n            <div class=\"domains__info tier` + i.Tier + `\">\r\n                <div class=\"domains__info-item\">` + i.Domain + `</div>\r\n                <div class=\"domains__info-item\">Tier ` + (i.Tier+1) + `</div>\r\n                <div class=\"domains__info-item\">Exp ` + (new Date(i.Exp)).toLocaleDateString() + `</div>\r\n                <div class=\"domains__info-item\">Tokens: ` + tierToTokens(i.Tier) + `</div>\r\n            </div>\r\n        </div>`\r\n\r\n    })\r\n\r\n    let bonus = await fetch(\"/api/bonus?\" + new URLSearchParams({ account: address }))\r\n    bonus = await bonus.json()\r\n    tokens_count.innerHTML = tokens + bonus.total + \" tokens\"\r\n}\r\n\r\n\r\n\r\n\r\nasync function getTXTRecord() {\r\n    \r\n    let txt_record_field = document.querySelector(\".txt_record_field\")\r\n    if (!txt_record_field){\r\n        return\r\n    }\r\n    let data = await fetch(\"/api/txt-record?\" + new URLSearchParams({ account: address }))\r\n    txt_record_field.value = (await data.json())[\"txt_record\"]\r\n}\r\n\r\n\r\nfunction copyTXTRecord() {\r\n    navigator.clipboard.writeText(document.querySelector(\".txt_record_field\").value)\r\n}\r\n\r\n\r\nasync function addDomain() {\r\n\r\n    try {\r\n\r\n        let signer = provider.getSigner()\r\n\r\n        let domain = document.querySelector(\".domain_field\")\r\n        domain.parentElement.classList.remove(\"quiz__fg_error\")\r\n        domain.value = domain.value.toLowerCase()\r\n        if (!(/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?\\.art$/.test(domain.value))) {\r\n            domain.parentElement.classList.add(\"quiz__fg_error\")\r\n            alert(\"Please, make sure the domain is .art\")\r\n            return\r\n        }\r\n        let data = await fetch(\"/api/add-domain?\" + new URLSearchParams({ account: await signer.getAddress(), domain: domain.value }))\r\n        if (data.status != 200) {\r\n            alert(\"Please, check TXT record and try it later\")\r\n            return\r\n        }\r\n\r\n        await getDomains()\r\n        document.querySelector(\".quiz__step2\").classList.remove(\"quiz__step2--active\")\r\n    } catch (err) {\r\n        alert(\"Please, connect MetaMask before.\")\r\n    }\r\n\r\n}\r\n\r\nasync function suggestion() {\r\n    let domain = document.querySelector(\".find__search-link\")\r\n    if (!domain) {\r\n        return\r\n    }\r\n    let data = await fetch(\"/api/search?\" + new URLSearchParams({ suggestion: true }))\r\n    let list = await data.json()\r\n    domain.innerHTML = list.data[0].Domain\r\n    domain.href = `https://search.art.art/en?domain=` + list.data[0].Domain\r\n}\r\n\r\nsuggestion()\r\n\r\n\r\nasync function addEmail(event) {\r\n    fetch(\"/api/add-email?email=\" + document.getElementById(\"subscriber_email\").value)\r\n    event.preventDefault()\r\n    document.getElementById(\"subscriber_email\").value = \"\"\r\n}\r\n\r\n\r\nfunction twitterBonus() {\r\n    if (!address) {\r\n        alert(\"Please, connect MetaMask first!\")\r\n        return\r\n    }\r\n\r\n    OAuth.initialize('YC_NlvtF5hzC5dey4jjatFE0Y-4')\r\n    OAuth.popup('twitter').done(function(result) {\r\n        console.log(result)\r\n        fetch(\"/api/twitter-bonus?\" + new URLSearchParams({ account: address, ...result.toJson() })).then(async function(result) {\r\n\r\n        })\r\n        // do some stuff with result\r\n    })\r\n}"]}